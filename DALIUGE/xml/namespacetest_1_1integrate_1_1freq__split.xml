<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.11">
  <compounddef id="namespacetest_1_1integrate_1_1freq__split" kind="namespace" language="Python">
    <compoundname>test::integrate::freq_split</compoundname>
      <sectiondef kind="var">
      <memberdef kind="variable" id="namespacetest_1_1integrate_1_1freq__split_1a874f8db30c93d2fd0d162f3b058a7f2a" prot="public" static="no" mutable="no">
        <type></type>
        <definition>test::integrate::freq_split.logger</definition>
        <argsstring></argsstring>
        <name>logger</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="daliuge-runtime/test/integrate/freq_split.py" line="13" column="1" bodyfile="daliuge-runtime/test/integrate/freq_split.py" bodystart="13" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="namespacetest_1_1integrate_1_1freq__split_1acd15616293635a68db9cf21523c86b3b" prot="public" static="no" mutable="no">
        <type></type>
        <definition>test::integrate::freq_split.ms_transform_tpl</definition>
        <argsstring></argsstring>
        <name>ms_transform_tpl</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="daliuge-runtime/test/integrate/freq_split.py" line="15" column="1" bodyfile="daliuge-runtime/test/integrate/freq_split.py" bodystart="15" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="namespacetest_1_1integrate_1_1freq__split_1aefe6efbfb2d4ea270ff14020289a544b" prot="public" static="no" mutable="no">
        <type></type>
        <definition>test::integrate::freq_split.parser</definition>
        <argsstring></argsstring>
        <name>parser</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="daliuge-runtime/test/integrate/freq_split.py" line="260" column="1" bodyfile="daliuge-runtime/test/integrate/freq_split.py" bodystart="260" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="namespacetest_1_1integrate_1_1freq__split_1a4d6fa602e051c30897730ac254bd28eb" prot="public" static="no" mutable="no">
        <type></type>
        <definition>test::integrate::freq_split.action</definition>
        <argsstring></argsstring>
        <name>action</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="daliuge-runtime/test/integrate/freq_split.py" line="262" column="1" bodyfile="daliuge-runtime/test/integrate/freq_split.py" bodystart="262" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="namespacetest_1_1integrate_1_1freq__split_1a93c56cd7e940a46d98b534193f18729b" prot="public" static="no" mutable="no">
        <type></type>
        <definition>test::integrate::freq_split.type</definition>
        <argsstring></argsstring>
        <name>type</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="daliuge-runtime/test/integrate/freq_split.py" line="262" column="1" bodyfile="daliuge-runtime/test/integrate/freq_split.py" bodystart="262" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="namespacetest_1_1integrate_1_1freq__split_1a550977cfe531449c0fe908a9a3b1060d" prot="public" static="no" mutable="no">
        <type></type>
        <definition>test::integrate::freq_split.dest</definition>
        <argsstring></argsstring>
        <name>dest</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="daliuge-runtime/test/integrate/freq_split.py" line="263" column="1" bodyfile="daliuge-runtime/test/integrate/freq_split.py" bodystart="263" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="namespacetest_1_1integrate_1_1freq__split_1a6f94cd64c35cf06555f7705d4551fc11" prot="public" static="no" mutable="no">
        <type></type>
        <definition>test::integrate::freq_split.help</definition>
        <argsstring></argsstring>
        <name>help</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="daliuge-runtime/test/integrate/freq_split.py" line="263" column="1" bodyfile="daliuge-runtime/test/integrate/freq_split.py" bodystart="263" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="namespacetest_1_1integrate_1_1freq__split_1a0976547377c117360977ea9a4b1ee11e" prot="public" static="no" mutable="no">
        <type></type>
        <definition>test::integrate::freq_split.default</definition>
        <argsstring></argsstring>
        <name>default</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="daliuge-runtime/test/integrate/freq_split.py" line="273" column="1" bodyfile="daliuge-runtime/test/integrate/freq_split.py" bodystart="273" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="namespacetest_1_1integrate_1_1freq__split_1a5f52f7b0d655aaa15022d9cf603f05cc" prot="public" static="no" mutable="no">
        <type></type>
        <definition>test::integrate::freq_split.options</definition>
        <argsstring></argsstring>
        <name>options</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="daliuge-runtime/test/integrate/freq_split.py" line="281" column="1" bodyfile="daliuge-runtime/test/integrate/freq_split.py" bodystart="281" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="namespacetest_1_1integrate_1_1freq__split_1ab9b9e65894e294cfa89f961c9d7adf03" prot="public" static="no" mutable="no">
        <type></type>
        <definition>test::integrate::freq_split.args</definition>
        <argsstring></argsstring>
        <name>args</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="daliuge-runtime/test/integrate/freq_split.py" line="281" column="1" bodyfile="daliuge-runtime/test/integrate/freq_split.py" bodystart="281" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="namespacetest_1_1integrate_1_1freq__split_1ac4d865f094c5eb54d256f4e8c5757841" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>def</type>
        <definition>def test.integrate.freq_split.freq_map</definition>
        <argsstring>(low_req, hi_req, args)</argsstring>
        <name>freq_map</name>
        <param>
          <type>low_req</type>
          <defname>low_req</defname>
        </param>
        <param>
          <type>hi_req</type>
          <defname>hi_req</defname>
        </param>
        <param>
          <type>args</type>
          <defname>args</defname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para><verbatim>Ported from Chiles AWS code by R.Dodson (richard.dodson@icrar.org)

Return the Spectral Window Required given the lower and upper bounds requested.
The requests are compared to the 3 possible freq ranges (starting at 941, 946 or 951 MHz).
2 MHz buffer is added to these values.
2MHz is equiv to 40km/s, which covers the range of calculated observatory velocities of ~+-30km/s

Future: We could use the _actual_ spectral windows for each day to return a smaller range.
Additional parameters would need to be passed (just the data file name?)

Call doctest with # python -m doctest -v freq_map.py

&gt;&gt;&gt; freq_map(951,956)
&apos;0~0&apos;

&gt;&gt;&gt; freq_map(951,983)
&apos;0~1&apos;

&gt;&gt;&gt; freq_map(973,978,951)
&apos;0~0&apos;

&gt;&gt;&gt; freq_map(973,983,951)
&apos;0~1&apos;

&gt;&gt;&gt; freq_map(1005,1007,951)
&apos;1~1&apos;

&gt;&gt;&gt; freq_map(1003,1007,941)
&apos;1~2&apos;

&gt;&gt;&gt; freq_map(1003,1007,946)
&apos;1~1&apos;

&gt;&gt;&gt; freq_map(1003,1007,951)
&apos;1~1&apos;

&gt;&gt;&gt; freq_map(1007,1011,941)
&apos;2~2&apos;

&gt;&gt;&gt; freq_map(1009,1013,946)
&apos;1~2&apos;

&gt;&gt;&gt; freq_map(1009,1013,951)
&apos;1~2&apos;

&gt;&gt;&gt; freq_map(1200,1210)
&apos;8~8&apos;

&gt;&gt;&gt; freq_map(1360,1400)
&apos;13~14&apos;

&gt;&gt;&gt; freq_map(1400,1404)
&apos;14~14&apos;
</verbatim> </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="daliuge-runtime/test/integrate/freq_split.py" line="34" column="1" bodyfile="daliuge-runtime/test/integrate/freq_split.py" bodystart="34" bodyend="168"/>
      </memberdef>
      <memberdef kind="function" id="namespacetest_1_1integrate_1_1freq__split_1a36cbb85e474829a9ec8d993ab9fe71f7" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>def</type>
        <definition>def test.integrate.freq_split.launch_mstransform</definition>
        <argsstring>(infile, outfile, no_chan, freq1, width_freq, spw_range, gen_script_dir, casa_bin_dir)</argsstring>
        <name>launch_mstransform</name>
        <param>
          <type>infile</type>
          <defname>infile</defname>
        </param>
        <param>
          <type>outfile</type>
          <defname>outfile</defname>
        </param>
        <param>
          <type>no_chan</type>
          <defname>no_chan</defname>
        </param>
        <param>
          <type>freq1</type>
          <defname>freq1</defname>
        </param>
        <param>
          <type>width_freq</type>
          <defname>width_freq</defname>
        </param>
        <param>
          <type>spw_range</type>
          <defname>spw_range</defname>
        </param>
        <param>
          <type>gen_script_dir</type>
          <defname>gen_script_dir</defname>
        </param>
        <param>
          <type>casa_bin_dir</type>
          <defname>casa_bin_dir</defname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para><verbatim>launch CASA MSTransform as a separate (CASA) process

Return: process reference
</verbatim> </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="daliuge-runtime/test/integrate/freq_split.py" line="169" column="1" bodyfile="daliuge-runtime/test/integrate/freq_split.py" bodystart="171" bodyend="200"/>
      </memberdef>
      <memberdef kind="function" id="namespacetest_1_1integrate_1_1freq__split_1a912a7e74f35f9f1c4295490ff360937d" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>def</type>
        <definition>def test.integrate.freq_split.do_split</definition>
        <argsstring>(infile, outdir, min_freq, max_freq, step_freq, width_freq, work_dir, casa_bin_dir)</argsstring>
        <name>do_split</name>
        <param>
          <type>infile</type>
          <defname>infile</defname>
        </param>
        <param>
          <type>outdir</type>
          <defname>outdir</defname>
        </param>
        <param>
          <type>min_freq</type>
          <defname>min_freq</defname>
        </param>
        <param>
          <type>max_freq</type>
          <defname>max_freq</defname>
        </param>
        <param>
          <type>step_freq</type>
          <defname>step_freq</defname>
        </param>
        <param>
          <type>width_freq</type>
          <defname>width_freq</defname>
        </param>
        <param>
          <type>work_dir</type>
          <defname>work_dir</defname>
        </param>
        <param>
          <type>casa_bin_dir</type>
          <defname>casa_bin_dir</defname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para><verbatim>do actual mstransform, if outdir exists, it will be removed first

TODO - add timer to measure completion time
</verbatim> </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="daliuge-runtime/test/integrate/freq_split.py" line="201" column="1" bodyfile="daliuge-runtime/test/integrate/freq_split.py" bodystart="202" bodyend="255"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
<para><verbatim>Split the measurementset using MSTransform along the frequency axis
Used as a template to be wrapped by the DROP framework

chen.wu@icrar.org
</verbatim> </para>    </detaileddescription>
    <location file="daliuge-runtime/test/integrate/freq_split.py" line="1" column="1"/>
  </compounddef>
</doxygen>
